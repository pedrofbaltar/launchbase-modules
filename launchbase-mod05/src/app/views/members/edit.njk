{% extends "layout.njk" %}

{% block content %}
  <div class="card">
    <section 
      class="avatar" 
      style="background: url({{ member.avatar_url }}) no-repeat  center center/ cover ">
    </section>
      
    <section class="details">
      <form action="/members?_method=PUT" method="post">
        <h3>Editar Membro</h3>
        {% include "members/fields.njk" %}
        <input type="hidden" name="id" value={{member.id}}>
      </form>

      <form id="form-delete" action="/members?_method=DELETE" method="post">
        <input type="hidden" name="id" value={{member.id}}>
        <button type="submit">Deletar</button>
      </form>
    </section>   
  </div>

  <script>
    const formDelete = document.querySelector('#form-delete')

    formDelete.addEventListener('submit', event =>{ // event = submit
      const confirmation = confirm('Deseja deletar?')

      if(!confirmation) { // se nao confirmar...
        event.preventDefault() // vai previnir o comportamento padr√£o e vai cancelar o submit
      }
    })
  </script>
{% endblock content %}